angular.module("SDLMSys",["ui.bootstrap","ui.router","ngCookies","ngStorage","ngRoute","ngFileUpload","angularUtils.directives.dirPagination","ncy-angular-breadcrumb","ngDialog","checklist-model"]);
"use strict";angular.module("SDLMSys").config(["$stateProvider","$urlRouterProvider","$locationProvider",function(e,t,l){t.otherwise("/login"),e.state("base",{"abstract":!0,url:"",views:{"sidebar@":{},"content@":{templateUrl:"templates/base.html"},"headerbar@":{}}}).state("index",{url:"/",parent:"base",views:{"content@":{controller:"LoginCtrl",templateUrl:"templates/login/login.html"}}}).state("login",{url:"/login",parent:"base",views:{"content@":{controller:"LoginCtrl",templateUrl:"templates/login/login.html"}}}).state("logout",{url:"/logout",parent:"base",views:{"content@":{controller:"LoginCtrl",templateUrl:"templates/login/logout.html"}}}).state("register",{url:"/register",parent:"base",views:{"content@":{controller:"LoginCtrl",templateUrl:"templates/register/registeruser.html"}}}).state("registerfailed",{url:"/registerfailed",parent:"base",views:{"content@":{templateUrl:"templates/register/registerfailed.html"}}}).state("registersuccessful",{url:"/registersuccessful",parent:"base",views:{"content@":{templateUrl:"templates/register/registersuccessful.html"}}}).state("base.header",{"abstract":!0,url:"",parent:"base",views:{"headerbar@":{templateUrl:"/templates/partials/headerbar.html"}},ncyBreadcrumb:{label:"Home page"}}).state("base.header.panel",{url:"/controlpanel/:userid",parent:"base.header",controller:"MainCtrl",views:{"sidebar@":{templateUrl:"/templates/partials/sidebar.html"},"content@":{templateUrl:"/templates/overall/controlpanel.html"},"searchbar@base.header":{templateUrl:"/templates/search/searchuser.html"}},ncyBreadcrumb:{label:"Home page"}}).state("searchdocument",{url:"/searchdocument",parent:"base.header.panel",views:{"content@":{templateUrl:"templates/search/searchdocument.html"}},ncyBreadcrumb:{label:"Search Documents"}}).state("recommenddocument",{url:"/recommenddocument",parent:"base.header.panel",views:{"content@":{templateUrl:"templates/recommend/recommenddocument.html"}},ncyBreadcrumb:{label:"Documents Recommendation"}}).state("downloaddocument",{url:"/downloaddocument",parent:"base.header.panel",views:{"content@":{templateUrl:"templates/download/downloaddocument.html"}},ncyBreadcrumb:{label:"Download Documents"}}).state("readingdocumentlist",{url:"/readingdocumentlist",parent:"base.header.panel",views:{"content@":{templateUrl:"templates/list/readingdocumentlist.html"}},ncyBreadcrumb:{label:"Reading Documents"}}).state("likeddocumentlist",{url:"/likeddocumentlist",parent:"base.header.panel",views:{"content@":{templateUrl:"templates/list/likeddocumentlist.html"}},ncyBreadcrumb:{label:"Liked Documents"}}).state("shareddocumentlist",{url:"/shareddocumentlist",parent:"base.header.panel",views:{"content@":{templateUrl:"templates/list/shareddocumentlist.html"}},ncyBreadcrumb:{label:"Shared Documents"}}).state("sharedformedocumentlist",{url:"/sharedformedocuments",parent:"base.header.panel",views:{"content@":{templateUrl:"templates/list/sharedformedocumentlist.html"}},ncyBreadcrumb:{label:"Shared For Me Documents"}}).state("uploaddocument",{url:"/uploaddocument",parent:"base.header.panel",views:{"content@":{templateUrl:"templates/upload/uploaddocument.html"}},ncyBreadcrumb:{label:"Upload Document"}}).state("uploaddocumentlist",{url:"/uploaddocumentlist",parent:"base.header.panel",views:{"content@":{templateUrl:"templates/list/uploadeddocumentlist.html"}},ncyBreadcrumb:{label:"Uploaded Documents"}}).state("userinteractionlist",{url:"/userinteractionlist",parent:"base.header.panel",views:{"content@":{templateUrl:"templates/list/userinteractionlist.html"}},ncyBreadcrumb:{label:"User Interaction"}})}]);
"use strict";angular.module("SDLMSys").constant("DEPLOYED_HOST",{URL:"http://localhost:3001"}).constant("SEARCH_HOST",{URL:"http://localhost:9200",MULTI_API:"_msearch",SINGLE_API:"_search"}).constant("PAGINATION",{ITEMS_PER_PAGE:10});
function AlertsCtrl(s){s.alerts=[{type:"success",msg:"It is a successful process"},{type:"danger",msg:"There is a problem occured, please ask your administration to diagnostic and to fix it."}],s.addAlert=function(){s.alerts.push({msg:"Oh la la, There is a new thing pop up!"})},s.closeAlert=function(e){s.alerts.splice(e,1)}}angular.module("SDLMSys").controller("AlertsCtrl",["$scope",AlertsCtrl]);
"use strict";function CategoryCtrl(o,t,e,l){t.initialize=function(){console.log("Initialize CategoryCtrl"),l.getCategories(function(o){console.log("result from getCategories"),console.log(o.data),t.categories=o.data},function(o){console.log("get Categories failed"),console.log(o)})},t.$watch("category",function(t){o.category=t}),t.initialize()}angular.module("SDLMSys").controller("CategoryCtrl",["$rootScope","$scope","$localStorage","CategorySvc",CategoryCtrl]);
"use strict";function DocumentCtrl(e,o,t,a,n,c,l,u,r){function d(){e.file=void 0,e.title="",e.authors="",e["abstract"]="",e.keywords="",e.publisher="",e.publishedDate="",e.category=""}function s(t){e.myid=o.myDetail._id,t.getMines(function(o){e.uploadedDocs=o.data,e.numberOfDocs=e.uploadedDocs.length;var t={};if(e.numberOfDocs>0){for(i=0;i<e.numberOfDocs;i++){var a=new Date(e.uploadedDocs[i].uploadedDate),n=a.valueOf(),c=Math.ceil(n/864e5);t[c]?t[c]=t[c]+1:t[c]=1}for(date in t)e.peakUploaded<t[date]&&(e.peakUploaded=t[date]);e.averageTimePerDay=(e.numberOfDocs/Object.keys(t).length).toFixed(2),console.log(t)}},function(){$rootScope.error="Failed to fetch documents information"})}function g(o){n.updateInfo(o,function(o){e.editingDoc=null,s(n),e.exitEditing()},function(o){e.editingDoc=null})}console.log("Constructing DocumentCtrl..."),e.uploadedDocs=[],e.uploadService=r.URL+"/uploadDoc",e.title="",e.authors="",e["abstract"]="",e.keywords="",e.publisher="",e.publishedDate="",e.privacy="private",e.category="",e.log="",e.isSucceedUpload=0,e.isEditing=!1,isLoading=!1,e.peakUploaded=0,e.averageTimePerDay=0,e.selectFile=function(o){e.file=o,console.log("play here")},e.uploadDocument=function(){e.uploadFile(e.file)},e.clearLog=function(){e.log="",e.isSucceedUpload=0},e.submit=function(){e.uploadDocument()},e.uploadFile=function(o){if(o){e.clearLog(),console.log("come here 3 - 1!");var i=e["abstract"].replace("\r\n"," ");o.upload=t.upload({url:e.uploadService,data:{username:e.username,title:e.title,authors:e.authors,"abstract":i,keywords:e.keywords,publisher:e.publisher,publishedDate:e.publishedDate,privacy:e.privacy,category:e.category,file:o}}).then(function(t){console.log("Running here!"),a(function(){var i="file: "+t.config.data.file.name+", Response: "+JSON.stringify(t.data);e.log=i,o.result=t.data,e.isSucceedUpload+=1,d()},1),e.isSucceedUpload+=1,console.log("Running here out! 1"),d()},function(o){o.status>0&&(e.log=o.status+": "+o.data)},function(t){var i=parseInt(100*t.loaded/t.total);o.progress=Math.min(i),e.log="progress: "+i+"% "+t.config.data.file.name,e.isSucceedUpload+=1})}else e.log="$scope.file is null",console.log(e.log),console.log(e)},e.editDocument=function(o){e.isEditing=!0,e.editingDoc=o,e.title=o.title,e.authors=o.authors,e["abstract"]=o["abstract"],e.keywords=o.keywords,e.publisher=o.publisher,e.publishedDate=o.publishedDate,e.privacy=o.privacy,e.category=o.category},e.saveEditedDoc=function(){e.editingDoc.title=e.title,e.editingDoc.authors=e.authors,e.editingDoc["abstract"]=e["abstract"],e.editingDoc.keywords=e.keywords,e.editingDoc.publisher=e.publisher,e.editingDoc.publishedDate=e.publishedDate,e.editingDoc.privacy=e.privacy,e.editingDoc.category=e.category,g(e.editingDoc)},e.exitEditing=function(){e.editingDoc=null,e.title="",e.authors="",e["abstract"]="",e.keywords="",e.publisher="",e.publishedDate="",e.isEditing=!1,e.privacy="",e.category=""},e.deleteDocument=function(o,t){n.removeDoc(t,function(e){console.log("delete document result: ",e)},function(e){console.log("Error when delete document: ",e)}),e.uploadedDocs.slice(o,1),s(n)},e.getServerDocumentPath=function(e,o){return n.getDocPath(e,o)},e.downloadDocument=function(e){console.log("come here 9!");var o=document.createElement("a");document.body.appendChild(o),o.style="display: none",o.href=n.getDocPath(e.uploadedPath),o.download=e.fileName,o.click(),document.body.removeChild(o)},e.$watch("isSucceedUpload",function(){e.isLoading=!0,s(n),e.isLoading=!1}),e.currentPage=0,e.pageSize=u.ITEMS_PER_PAGE,e.numberOfPages=function(){return Math.ceil(e.uploadedDocs/e.pageSize)},e.userInteract=function(o,t,i){console.log("Document Id: "+o+" - with user action : "+t+" - data : "+i);var a={doc_id:o,the_action:t,the_data:i};c.interactDocument(a,function(o){console.log(o),setTimeout(function(){e.$apply(function(){s(n)})},500)},function(e){console.log(e)})},e.openShare=function(o){e.doc_id=o,l.open({template:"firstDialog",controller:"PopupShareCtrl",className:"ngdialog-theme-default ngdialog-theme-custom",scope:e})}}angular.module("SDLMSys").controller("DocumentCtrl",["$scope","$localStorage","Upload","$timeout","DocumentSvc","UserActSvc","ngDialog","PAGINATION","DEPLOYED_HOST",DocumentCtrl]);
"use strict";function DownloadCtrl(o,e,n,t,c,a){function l(n){o.myid=e.myDetail._id,n.getMyDownloadedDocs(function(e){console.log(e.data),o.downloadedDocs=e.data,o.numberOfDocs=o.downloadedDocs.length},function(){$rootScope.error="Failed to fetch documents information"})}console.log("Constructing DownloadCtrl..."),o.downloadedDocs=[],o.log="",o.peakDownload=0,o.averageTimePerDay=0,o.clearLog=function(){o.log=""},l(n),o.getServerDocumentPath=function(o,e){return n.getDocPath(o,e)},o.currentPage=0,o.pageSize=a.ITEMS_PER_PAGE,o.numberOfPages=function(){return Math.ceil(o.numberOfDocs/o.pageSize)},o.userInteract=function(e,c,a){console.log("Document Id: "+e+" - with user action : "+c+" - data : "+a);var r={doc_id:e,the_action:c,the_data:a};t.interactDocument(r,function(e){console.log(e),setTimeout(function(){o.$apply(function(){l(n)})},500)},function(o){console.log(o)})},o.openShare=function(e){o.doc_id=e,c.open({template:"firstDialog",controller:"PopupShareCtrl",className:"ngdialog-theme-default ngdialog-theme-custom",scope:o})}}angular.module("SDLMSys").controller("DownloadCtrl",["$scope","$localStorage","DocumentSvc","UserActSvc","ngDialog","PAGINATION",DownloadCtrl]);
"use strict";function HeaderCtrl(e,r,l){console.log("Constructing HeaderCtrl..."),r.myDetail=l.myDetail}angular.module("SDLMSys").controller("HeaderCtrl",["$rootScope","$scope","$localStorage",HeaderCtrl]);
"use strict";function LikeCtrl(o,e,t,n,c,i){function l(e){e.getMyLikedDocs(function(e){console.log(e.data),o.likeDocs=e.data,o.numberOfDocs=o.likeDocs.length},function(){$rootScope.error="Failed to fetch documents information"})}console.log("Constructing LikeCtrl..."),o.likeDocs=[],o.myid=e.myDetail._id,o.log="",o.clearLog=function(){o.log=""},l(t),o.getServerDocumentPath=function(o,e){return t.getDocPath(o,e)},o.currentPage=0,o.pageSize=i.ITEMS_PER_PAGE,o.numberOfPages=function(){return Math.ceil(o.numberOfDocs/o.pageSize)},o.userInteract=function(e,c,i){console.log("Document Id: "+e+" - with user action : "+c+" - data : "+i);var a={doc_id:e,the_action:c,the_data:i};n.interactDocument(a,function(e){console.log(e),setTimeout(function(){o.$apply(function(){l(t)})},500)},function(o){console.log(o)})},o.openShare=function(e){o.doc_id=e,c.open({template:"firstDialog",controller:"PopupShareCtrl",className:"ngdialog-theme-default ngdialog-theme-custom",scope:o})}}angular.module("SDLMSys").controller("LikeCtrl",["$scope","$localStorage","DocumentSvc","UserActSvc","ngDialog","PAGINATION",LikeCtrl]);
"use strict";function LoginCtrl(o,t,e,n,r,a,l,s,i,u){console.log("Constructing LoginCtrl..."),t.login=function(){new Date;if(t.password){var e=CryptoJS.SHA1(t.password).toString(),n={email:t.email,password:e};a.myDetail=null,console.log("Login called"),l.login(n,function(o){o.type===!1?(a.wrongCount?(a.wrongCount=a.wrongCount+1,console.log("number of Count : "+a.wrongCount)):a.wrongCount=1,alert(o.data)):(a.wrongCount=0,console.log(o.data),a.myDetail=o.data,a.token=o.data.token,r.path("/controlpanel/"))},function(){o.error="Failed to Login!"})}else alert("Password must not be empty! Please provide us your identified password!")},t.register=function(){if(t.password)if(t.retypepwd==t.password){var e=(new Date,CryptoJS.SHA1(t.password).toString()),n={username:t.username,email:t.email,password:e};console.log("Register called"),l.save(n,function(o){o.type===!1?alert(o.data):(console.log(o.data),r.path("/registersuccessful"))},function(){o.error="Failed to Register",r.path("/registerfailed")})}else alert("Your password and its retype confirmation are not identical. Please retype them!");else alert("The password and the retyped one must not be empty for verification purpose! Please input them!")},t.logout=function(){console.log("logout called"),l.logout(function(){a.myDetail=null,r.path("/")},function(){alert("Failed to logout!")})},t.checkForgotPassword=function(){console.log("It called wrongCount: "+a.wrongCount),a.wrongCount>=3?t.isHideForgot=!1:t.isHideForgot=!0},t.hideShowPassword=function(){"password"==t.inputType?t.inputType="text":t.inputType="password"},t.inputType="password"}angular.module("SDLMSys").controller("LoginCtrl",["$rootScope","$scope","$route","$stateParams","$location","$localStorage","MainSvc","DocumentSvc","ngDialog","PAGINATION",LoginCtrl]);
"use strict";function MainCtrl(e,o,n,t,s,i,l,c,r,u){console.log("Constructing MainCtrl..."),o.me=function(){console.log("Me called"),l.me(function(e){console.log(e),i.myDetail=e.data},function(){e.error="Failed to fetch details"})},o.stats={},o.currentUser={},o.userReadDocs=[],o.numberOfUserReadDocs=0,o.currentPage=0,o.pageSize=2*u.ITEMS_PER_PAGE,o.numberOfPages=function(){return Math.ceil(o.userReadDocs/o.pageSize)},o.getUserReadingDocuments=function(n){c.getUserReadingDocs(n,function(e){console.log(e.data),e.type?(o.userReadDocs=e.data,o.numberOfUserReadDocs=o.userReadDocs.length):(o.userReadDocs=[],o.numberOfUserReadDocs=0)},function(){o.userReadDocs=[],o.numberOfUserReadDocs=0,e.error="Failed to fetch documents information"})},o.getStatistic=function(){if(console.log("=======GET STATISTICS======="),console.log(i.myDetail),console.log("=====END GET STATISTICS====="),null==i.myDetail&&o.me(),null!=i.myDetail){var e=i.myDetail._id;o.strViewingUser=i.myDetail.username,o.bFriendRequestSent=!1,o.bSendFriendRequest=!1,o.bResponseFriendRequest=!1,o.bRequestFollowRequest=!1,o.bBeFriend=!1,console.log("=====Main====="),console.log(i.myDetail),console.log(t),console.log("=====End Main====="),""!==t.userid&&""!==i.myDetail._id?t.userid!==i.myDetail._id&&(e=t.userid,i.myDetail.friends.length>=0&&-1===i.myDetail.friends.indexOf(t.userid)?-1!==i.myDetail.wait_response_friends.indexOf(t.userid)?(console.log("Waiting for response friends"),o.bFriendRequestSent=!0):-1!==i.myDetail.request_friends.indexOf(t.userid)?(console.log("Received a friend request"),o.bResponseFriendRequest=!0):(console.log("Received a friend request"),o.bSendFriendRequest=!0,-1===i.myDetail.followers.indexOf(t.userid)&&(o.bRequestFollowRequest=!0)):o.bBeFriend=!0):""===t.userid&&""!==i.myDetail._id?e=i.myDetail._id:s.path("/"),o.myid=e,console.log(e+" - "+i.myDetail._id+" or "+t.userid),o.getUserReadingDocuments(e),l.getStatistic(e,function(e){console.log(e),o.stats=e},function(e){console.log(e)}),l.getUserInformation(e,function(e){console.log(e),e.type?o.currentUser=e.data:o.currentUser=i.myDetail,o.strViewingUser=o.currentUser.username},function(e){console.log(e)})}},o.getStatistic(),o.sendFriendRequest=function(){if(console.log("Send Friend Request"),o.bSendFriendRequest){var e={friend_id:t.userid};console.log(t),l.sendFriendRequest(e,function(e){console.log("SendRequestSuccess"),console.log(e),o.me(),setTimeout(function(){o.$apply(function(){o.getStatistic()})},500)},function(e){console.log("SendRequestFailed"),console.log(e)})}},o.sendFriendResponse=function(){if(console.log("Send Friend Response"),o.bResponseFriendRequest){var e={friend_id:t.userid};console.log(t),l.sendFriendResponse(e,function(e){console.log("SendResponseSuccess"),console.log(e),o.me(),setTimeout(function(){o.$apply(function(){o.getStatistic()})},500)},function(e){console.log("SendResponseFailed"),console.log(e)})}},o.confirmFollow=function(){if(console.log("confirm follow Response"),o.bRequestFollowRequest){console.log(t);var e={follower_id:t.userid};l.sendConfirmFollow(e,function(e){console.log("sendConfirmFollowSuccess"),console.log(e),o.me(),setTimeout(function(){o.$apply(function(){o.getStatistic()})},500)},function(e){console.log("sendConfirmFollowFailed"),console.log(e)})}},o.getServerDocumentPath=function(e,o){return c.getDocPath(e,o)},o.userInteract=function(e,n,t){console.log("Document Id: "+e+" - with user action : "+n+" - data : "+t);var s={doc_id:e,the_action:n,the_data:t};UserActSvc.interactDocument(s,function(e){console.log(e),setTimeout(function(){o.me(),o.$apply(function(){o.getStatistic()})},500)},function(e){console.log(e)})},o.openShare=function(e){o.doc_id=e,r.open({template:"firstDialog",controller:"PopupShareCtrl",className:"ngdialog-theme-default ngdialog-theme-custom",scope:o})}}angular.module("SDLMSys").controller("MainCtrl",["$rootScope","$scope","$route","$stateParams","$location","$localStorage","MainSvc","DocumentSvc","ngDialog","PAGINATION",MainCtrl]);
"use strict";function MasterCtrl(t,e,o){console.log("Constructing MasterCtrl...");var g=992;t.getWidth=function(){return window.innerWidth},t.$watch(t.getWidth,function(o,l){o>=g?angular.isDefined(e.get("toggle"))?t.toggle=!!e.get("toggle"):t.toggle=!0:t.toggle=!1}),t.toggleSidebar=function(){t.toggle=!t.toggle,e.put("toggle",t.toggle)},window.onresize=function(){t.$apply()},console.log(t)}angular.module("SDLMSys").controller("MasterCtrl",["$scope","$cookieStore","$localStorage",MasterCtrl]);
"use strict";function PopupShareCtrl(e,n,s,r){console.log("Constructing PopupShareCtrl..."),e.friends=[],e.init=function(){s.getMyFriendList(function(n){console.log(n),n.type?e.friends=n.data:e.friends=[]},function(n){e.friends=[],console.log(n)})},e.init(),e.shareText="",e.selectedFriends=[],e.compareFn=function(e,n){return e._id===n._id},e.checkAll=function(){e.selectedFriends.splice(0,e.selectedFriends.length);for(var n in e.friends)e.selectedFriends.push(e.friends[n])},e.uncheckAll=function(){e.selectedFriends.splice(0,e.selectedFriends.length)},e.submit=function(){var n={};console.log(e.shareText),console.log(e.selectedFriends),n.toFriends=e.selectedFriends,n.shareText=e.shareText,e.userInteract(e.doc_id,"share",n),r.close()}}angular.module("SDLMSys").controller("PopupShareCtrl",["$scope","$localStorage","UserSvc","ngDialog",PopupShareCtrl]);
"use strict";function RatingCtrl(t){}angular.module("SDLMSys").controller("RatingCtrl",["$scope",RatingCtrl]);
"use strict";function ReadCtrl(o,e,t,n,c,a){function r(e){e.getMyReadingDocs(function(e){console.log(e.data),o.readDocs=e.data,o.numberOfDocs=o.readDocs.length},function(){$rootScope.error="Failed to fetch documents information"})}console.log("Constructing ReadCtrl..."),o.readDocs=[],o.myid=e.myDetail._id,o.log="",o.clearLog=function(){o.log=""},r(t),o.getServerDocumentPath=function(o,e){return t.getDocPath(o,e)},o.currentPage=0,o.pageSize=a.ITEMS_PER_PAGE,o.numberOfPages=function(){return Math.ceil(o.numberOfDocs/o.pageSize)},o.userInteract=function(e,c,a){console.log("Document Id: "+e+" - with user action : "+c+" - data : "+a);var l={doc_id:e,the_action:c,the_data:a};n.interactDocument(l,function(e){console.log(e),setTimeout(function(){o.$apply(function(){r(t)})},500)},function(o){console.log(o)})},o.openShare=function(e){o.doc_id=e,c.open({template:"firstDialog",controller:"PopupShareCtrl",className:"ngdialog-theme-default ngdialog-theme-custom",scope:o})}}angular.module("SDLMSys").controller("ReadCtrl",["$scope","$localStorage","DocumentSvc","UserActSvc","ngDialog","PAGINATION",ReadCtrl]);
"use strict";function RecommenderCtrl(e,o,n,t,c,r,a,m,i){function l(o){"debug"==e.type?o.recommendSimpleDebug(e.myid,.1,e.pageSize,function(o){console.log(o.data),e.recommendDocs=[];for(var n=0;n<o.data.length;n++)e.recommendDocs.push(o.data[n].doc);e.numberOfDocs=e.recommendDocs.length},function(){$rootScope.error="Failed to fetch documents information"}):"simple"==e.type?o.recommendSimple(e.myid,.1,e.pageSize,function(o){console.log(o.data),e.recommendDocs=[];for(var n=0;n<o.data.length;n++)e.recommendDocs.push(o.data[n].doc);e.numberOfDocs=e.recommendDocs.length},function(){$rootScope.error="Failed to fetch documents information"}):o.recommendSocial(e.myid,.1,e.pageSize,function(o){console.log(o.data),e.recommendDocs=[];for(var n=0;n<o.data.length;n++)e.recommendDocs.push(o.data[n].doc);e.numberOfDocs=e.recommendDocs.length},function(){$rootScope.error="Failed to fetch documents information"})}console.log("Constructing ShareCtrl..."),e.recommendDocs=[],e.myid=o.myDetail._id,e.log="",e.type="simple",e.$watch("type",function(e){l(r)}),e.clearLog=function(){e.log=""},e.currentPage=0,e.pageSize=i.ITEMS_PER_PAGE,e.numberOfPages=function(){return Math.ceil(e.numberOfDocs/e.pageSize)},l(r),e.getServerDocumentPath=function(e,o){return n.getDocPath(e,o)},e.userInteract=function(o,c,r){console.log("Document Id: "+o+" - with user action : "+c+" - data : "+r);var a={doc_id:o,the_action:c,the_data:r};t.interactDocument(a,function(o){console.log(o),setTimeout(function(){e.$apply(function(){l(n)})},500)},function(e){console.log(e)})},e.openShare=function(o){e.doc_id=o,m.open({template:"firstDialog",controller:"PopupShareCtrl",className:"ngdialog-theme-default ngdialog-theme-custom",scope:e})}}angular.module("SDLMSys").controller("RecommenderCtrl",["$scope","$localStorage","DocumentSvc","UserActSvc","MainSvc","RecommendSvc","CategorySvc","ngDialog","PAGINATION",RecommenderCtrl]);
"use strict";function SearchCtrl(o,t,e,r,s,n,a,c,l,u){function g(){o.errorLog="",o.resultLog="",o.totalDocs=0,o.resultDocs=[]}function d(t){o.me(),g(),e.searchData(t,o.privacy,o.category,0,o.pageSize,function(t){if(console.log(t),200==t.status){if(t.data){o.resultDocs=[];var e=t.data.responses.length,r=0;for(i=0;i<e;i++)t.data.responses[i].error?(o.errorLog=o.errorLog+t.data.responses[i].error.index+" - "+t.data.responses[i].error.reason,o.resultLog="There is no document found"):(o.resultDocs=o.resultDocs.concat(t.data.responses[i].hits.hits),r+=t.data.responses[i].hits.total);o.totalDocs=r}}else console.log(t.statusText),o.errorLog=t.statusText},function(t){o.errorLog=t}),limit=30,e.searchData(t,o.privacy,o.category,0,limit,function(o){if(console.log(o),200==o.status&&o.data){totalCount=0;var t=[],e=o.data.responses.length;for(i=0;i<e;i++)"undefined"===o.data.responses[i].error&&(t=t.concat(o.data.responses[i].hits.hits),totalCount+=o.data.responses[i].hits.total);totalCount<limit&&(limit=totalCount);var r=[];for(j=0;j<limit;j++){var s={};s.mongo_id=t[j]._source.id,s.score=t[j]._score,r.push(s)}console.log(r),a.recommendList(r,!1,function(o){console.log(o)},function(o){console.log(o)})}},function(o){console.log(o)})}function f(t){o.isLoading=!0,e.searchData(o.query,o.privacy,o.category,(t-1)*o.pageSize,o.pageSize,function(t){if(console.log(t),200==t.status){if(t.data){o.resultDocs=[];var e=t.data.responses.length,r=0;for(i=0;i<e;i++)t.data.responses[i].error?(o.errorLog=o.errorLog+t.data.responses[i].error.index+" - "+t.data.responses[i].error.reason,o.resultLog="There is no document found"):(o.resultDocs=o.resultDocs.concat(t.data.responses[i].hits.hits),r+=t.data.responses[i].hits.total);o.totalDocs=r,o.isLoading=!1}}else console.log(t.statusText),o.errorLog=t.statusText},function(t){o.errorLog=t})}console.log("Constructing SearchCtrl..."),o.resultDocs=[],o.errorLog="",o.submit=function(){o.isLoading=!0,d(o.query),o.isLoading=!1},o.category="",o.$watch("query",function(t){o.isLoading=!0,d(t),o.isLoading=!1}),o.$watch("category",function(t){o.isLoading=!0,d(o.query),o.isLoading=!1}),o.$watch("privacy",function(t){o.isLoading=!0,d(o.query),o.isLoading=!1}),o.pageChanged=function(o){f(o)},o.pagination={current:1},o.pageSize=u.ITEMS_PER_PAGE,o.totalDocs=0,o.getServerDocumentPath=function(o,t){return r.getDocPath(o,t)},o.me=function(){n.me(function(e){console.log("Result from me()"),console.log(e),t.myDetail=e.data,o.myDetail=t.myDetail},function(){$rootScope.error="Failed to fetch details"})},o.userInteract=function(t,e,r){console.log("Document Id: "+t+" - with user action : "+e+" - data : "+r);var n={doc_id:t,the_action:e,the_data:r};s.interactDocument(n,function(t){console.log(t),setTimeout(function(){o.$apply(function(){o.me()})},500)},function(o){console.log(o)})},o.openShare=function(t){o.doc_id=t,l.open({template:"firstDialog",controller:"PopupShareCtrl",className:"ngdialog-theme-default ngdialog-theme-custom",scope:o})},o.rating=0,o.getSelectedRating=function(o,t,e){console.log(o)}}angular.module("SDLMSys").controller("SearchCtrl",["$scope","$localStorage","SearchSvc","DocumentSvc","UserActSvc","MainSvc","RecommendSvc","CategorySvc","ngDialog","PAGINATION",SearchCtrl]);
"use strict";function ShareCtrl(o,e,t,n,c,a,r){function l(e){e.getMySharedDocs(function(e){console.log(e.data),o.sharedDocs=e.data,o.numberOfDocs=o.sharedDocs.length},function(){$rootScope.error="Failed to fetch documents information"})}console.log("Constructing ShareCtrl..."),o.sharedDocs=[],o.myid=t.myDetail._id,o.log="",o.clearLog=function(){o.log=""},l(n),o.getServerDocumentPath=function(o,e){return n.getDocPath(o,e)},o.currentPage=0,o.pageSize=r.ITEMS_PER_PAGE,o.numberOfPages=function(){return Math.ceil(o.numberOfDocs/o.pageSize)},o.userInteract=function(e,t,a){console.log("Document Id: "+e+" - with user action : "+t+" - data : "+a);var r={doc_id:e,the_action:t,the_data:a};c.interactDocument(r,function(e){console.log(e),setTimeout(function(){o.$apply(function(){l(n)})},500)},function(o){console.log(o)})},o.openShare=function(e){o.doc_id=e,a.open({template:"firstDialog",controller:"PopupShareCtrl",className:"ngdialog-theme-default ngdialog-theme-custom",scope:o})}}angular.module("SDLMSys").controller("ShareCtrl",["$scope","$timeout","$localStorage","DocumentSvc","UserActSvc","ngDialog","PAGINATION",ShareCtrl]);
"use strict";function ShareForMeCtrl(e,o,t,n,r,a,c){function i(o){o.getSharedForMeDocuments(function(o){console.log(o.data),o.type?(e.sharedTransactions=o.data,"undefined"!=typeof o.data?e.numberOfDocs=e.sharedTransactions.length:e.numberOfDocs=0):(e.sharedTransactions=[],e.numberOfDocs=0)},function(){$rootScope.error="Failed to fetch documents information"})}console.log("Constructing ShareForMeCtrl..."),e.sharedTransactions=[],e.myid=t.myDetail._id,e.log="",e.clearLog=function(){e.log=""},i(n),e.getServerDocumentPath=function(e,o){return n.getDocPath(e,o)},e.currentPage=0,e.pageSize=c.ITEMS_PER_PAGE,e.numberOfPages=function(){return Math.ceil(e.numberOfDocs/e.pageSize)},e.userInteract=function(o,t,a){console.log("Document Id: "+o+" - with user action : "+t+" - data : "+a);var c={doc_id:o,the_action:t,the_data:a};r.interactDocument(c,function(o){console.log(o),setTimeout(function(){e.$apply(function(){i(n)})},500)},function(e){console.log(e)})},e.openShare=function(o){e.doc_id=o,a.open({template:"firstDialog",controller:"PopupShareCtrl",className:"ngdialog-theme-default ngdialog-theme-custom",scope:e})}}angular.module("SDLMSys").controller("ShareForMeCtrl",["$scope","$timeout","$localStorage","DocumentSvc","UserActSvc","ngDialog","PAGINATION",ShareForMeCtrl]);
"use strict";function UserSearchCtrl(e,t,r,s,l){function o(){e.errorLog="",e.resultLog="",e.resultUsers.splice(0,e.resultUsers.length)}console.log("Constructing UserSearchCtrl..."),e.resultUsers=[],e.limits=10,e.getUsers=function(r){o();var s=l.URL+"/doclib_main/User/"+l.SINGLE_API+"?q="+r+"&from=0&size="+e.limits;return t.get(s).then(function(t){if(console.log(t),200==t.status){if(t.data)for(var r=t.data.hits.hits.length,s=0;r>s;s++)e.resultUsers.push(t.data.hits.hits[s]._source)}else e.errorLog=t.statusText;return e.resultUsers})},e.selectUser=function(e,t,l,o){s.lastSelectedItem=e,r.path("/controlpanel/"+e.id)}}angular.module("SDLMSys").controller("UserSearchCtrl",["$scope","$http","$location","$localStorage","SEARCH_HOST",UserSearchCtrl]);
function rdLoading(){var d={restrict:"AE",template:'<div class="loading"><div class="double-bounce1"></div><div class="double-bounce2"></div></div>'};return d}angular.module("SDLMSys").directive("rdLoading",rdLoading);
function starRating(){return{restrict:"A",template:'<ul class="rating"><li ng-repeat="star in stars" ng-class="star" ng-click="toggle($index)">★</li></ul>',scope:{ratingValue:"=",max:"=",onRatingSelected:"&"},link:function(t,a,n){var i=function(){t.stars=[];for(var a=0;a<t.max;a++)t.stars.push({filled:a<t.ratingValue})};t.toggle=function(a){t.ratingValue=a+1,t.onRatingSelected({rating:a+1})},t.$watch("ratingValue",function(t,a){a&&i()})}}}angular.module("SDLMSys").directive("starRating",starRating);
function rdWidgetBody(){var d={requires:"^rdWidget",scope:{loading:"@?",classes:"@?"},transclude:!0,template:'<div class="widget-body" ng-class="classes"><rd-loading ng-show="loading"></rd-loading><div ng-hide="loading" class="widget-content" ng-transclude></div></div>',restrict:"E"};return d}angular.module("SDLMSys").directive("rdWidgetBody",rdWidgetBody);
function rdWidgetFooter(){var e={requires:"^rdWidget",transclude:!0,template:'<div class="widget-footer" ng-transclude></div>',restrict:"E"};return e}angular.module("SDLMSys").directive("rdWidgetFooter",rdWidgetFooter);
function rdWidgetTitle(){var i={requires:"^rdWidget",scope:{title:"@",icon:"@"},transclude:!0,template:'<div class="widget-header"><div class="row"><div class="pull-left"><i class="fa" ng-class="icon"></i> {{title}} </div><div class="pull-right col-xs-6 col-sm-4" ng-transclude></div></div></div>',restrict:"E"};return i}angular.module("SDLMSys").directive("rdWidgetHeader",rdWidgetTitle);
function rdWidget(){var d={transclude:!0,template:'<div class="widget" ng-transclude></div>',restrict:"EA"};return d}angular.module("SDLMSys").directive("rdWidget",rdWidget);
"use strict";angular.module("SDLMSys").filter("startFrom",function(){return function(r,t){return t=+t,r.slice(t)}});
"use strict";angular.module("SDLMSys").config(["$httpProvider",function(t){t.interceptors.push(["$q","$location","$localStorage","Utils","SEARCH_HOST",function(t,r,e,n,o){return{request:function(t){return t.headers=t.headers||{},!e.token||t.url.match(o.MULTI_API)||t.url.match(o.SINGLE_API)||(t.headers.Authorization="Bearer "+e.token),t},responseError:function(e){return 401!==e.status&&403!==e.status||r.path("/"),t.reject(e)}}}])}]);
"use strict";function CategorySvc(e,t,o){var r=o.URL;return{getCategories:function(t,o){console.log("getCategories"),e.get(r+"/getDocumentCategories").success(t).error(o)}}}angular.module("SDLMSys").factory("CategorySvc",["$http","$localStorage","DEPLOYED_HOST",CategorySvc]);
"use strict";function DocumentSvc(e,o,c){var t=c.URL;return{getMines:function(o,c){e.get(t+"/mydocs").success(o).error(c)},updateInfo:function(o,c,s){e.post(t+"/updatedocument",o).success(c).error(s)},removeDoc:function(o,c,s){e.post(t+"/deletedocument",o).success(c).error(s)},getDocPath:function(e,o){return action="view",o&&(action="download"),t+"/"+action+"?p="+e},getMyDownloadedDocs:function(o,c){e.get(t+"/mydownloadeddocuments").success(o).error(c)},getMyLikedDocs:function(o,c){e.get(t+"/mylikeddocuments").success(o).error(c)},getMyReadingDocs:function(o,c){e.get(t+"/myreadingdocuments").success(o).error(c)},getMySharedDocs:function(o,c){e.get(t+"/myshareddocuments").success(o).error(c)},getUserReadingDocs:function(o,c,s){e.get(t+"/userReadingDocs?userid="+o).success(c).error(s)},getSharedForMeDocuments:function(o,c){e.get(t+"/sharedForMeDocuments").success(o).error(c)}}}angular.module("SDLMSys").factory("DocumentSvc",["$http","$localStorage","DEPLOYED_HOST",DocumentSvc]);
"use strict";function MainSvc(e,s,o){var n=o.URL;return{save:function(s,o,r){e.post(n+"/signup",s).success(o).error(r)},login:function(s,o,r){e.post(n+"/authen",s).success(o).error(r)},me:function(s,o){e.get(n+"/me").success(s).error(o)},getUserInformation:function(s,o,r){e.get(n+"/getUserInformation?userid="+s).success(o).error(r)},getStatistic:function(s,o,r){e.get(n+"/stats?uid="+s).success(o).error(r)},logout:function(e){console.log("Logout has been called"),s.token=null,e()},sendFriendRequest:function(s,o,r){e.post(n+"/requestFriend",s).success(o).error(r)},sendFriendResponse:function(s,o,r){e.post(n+"/requestResponse",s).success(o).error(r)},sendConfirmFollow:function(s,o,r){e.post(n+"/confirmFollow",s).success(o).error(r)}}}angular.module("SDLMSys").factory("MainSvc",["$http","$localStorage","DEPLOYED_HOST",MainSvc]);
"use strict";function RecommendSvc(e,o,r){var c=r.URL;return{recommendList:function(o,r,s,m){var n={};n.originList=o,n.wowSky=r,e.post(c+"/recommend/recommendTopN",n).success(s).error(m)},recommendSimple:function(o,r,s,m,n){var t={};t.user_id=o,t.threshold=r,t.K_value=s,e.post(c+"/recommend/simpleTopN",t).success(m).error(n)},recommendSocial:function(o,r,s,m,n){var t={};t.user_id=o,t.threshold=r,t.K_value=s,e.post(c+"/recommend/socialTopN",t).success(m).error(n)},recommendSimpleDebug:function(o,r,s,m,n){var t={};t.user_id=o,t.threshold=r,t.K_value=s,e.post(c+"/recommend/simpleTopNDebug",t).success(m).error(n)}}}angular.module("SDLMSys").factory("RecommendSvc",["$http","$localStorage","DEPLOYED_HOST",RecommendSvc]);
"use strict";function SearchSvc(e,r,t){return{searchData:function(i,o,n,u,s,p,l){var y=t.URL+"/"+t.MULTI_API,c="",_=r.myDetail;void 0===i&&(i="*");var d="",m="",a="",q="1";void 0!==n&&"all"!==n&&""!==n&&(d='"filter": {"match": {"category": { "query":    "'+n+'","operator": "and"}}}, "must" : ',m='{ "query" : {"bool" : {',a="}}}"),"pubnpri"===o?(console.log("my Public and my Private"),"2"===q?(_&&(c='{ "index" : "doclib2", "type":"Document_public", "routing" : "'+_._id+'", "pretty": "true" }\r\n'+m+d+'{ "query" : {"simple_query_string" : {"query" : "'+i+'"}}'+a+', "from" : "'+u+'", "size" : "'+s+'"}\r\n',c=c+'{ "index" : "doclib2", "type":"Document_private", "routing" : "'+_._id+'", "pretty": "true" }\r\n'+m+d+'{ "query" : {"simple_query_string" : {"query" : "'+i+'"}}'+a+', "from" : "'+u+'", "size" : "'+s+'"}\r\n'),console.log("Custom routing with one index and 3 public/private/share types")):"3"===q?(_&&(c='{ "index" : "doclib3_'+_._id+'_public", "type":"Document", "pretty": "true" }\r\n'+m+d+'{ "query" : {"simple_query_string" : {"query" : "'+i+'"}}'+a+', "from" : "'+u+'", "size" : "'+s+'"}\r\n',c=c+'{ "index" : "doclib3_'+_._id+'_privacy", "type":"Document", "pretty": "true" }\r\n'+m+d+'{ "query" : {"simple_query_string" : {"query" : "'+i+'"}}'+a+', "from" : "'+u+'", "size" : "'+s+'"}\r\n'),console.log("Separate indexes for users")):"4"===q?(_&&(c='{ "index" : "doclib4_'+_._id+'", "type":"Document_public", "pretty": "true" }\r\n'+m+d+'{ "query" : {"simple_query_string" : {"query" : "'+i+'"}}'+a+', "from" : "'+u+'", "size" : "'+s+'"}\r\n',c=c+'{ "index" : "doclib4_'+_._id+'", "type": "Document_private", "pretty": "true" }\r\n'+m+d+'{ "query" : {"simple_query_string" : {"query" : "'+i+'"}}'+a+', "from" : "'+u+'", "size" : "'+s+'"}\r\n'),console.log("Separate types for private/public/share")):(_&&(c='{"index" : "doclib_public", "type":"Document", "routing" :  "'+_._id+'", "pretty": "true"}\r\n'+m+d+'{ "query" : {"simple_query_string" : {"query" : "'+i+'"}}'+a+', "from" : "'+u+'", "size" : "'+s+'"}\r\n',c=c+'{"index" : "doclib_private", "type":"Document", "routing" :  "'+_._id+'", "pretty": "true" }\r\n'+m+d+'{ "query" : {"simple_query_string" : {"query" : "'+i+'"}}'+a+', "from" : "'+u+'", "size" : "'+s+'"}\r\n'),console.log("Custom routing with 3 public/private/share indexes"))):"public"===o?(console.log("my Public only"),"2"===q?(_&&(c='{ "index" : "doclib2", "type":"Document_public", "routing" : "'+_._id+'", "pretty": "true" }\r\n'+m+d+'{ "query" : {"simple_query_string" : {"query" : "'+i+'"}}'+a+', "from" : "'+u+'", "size" : "'+s+'"}\r\n'),console.log("Custom routing with one index and 3 public/private/share types")):"3"===q?(_&&(c='{ "index" : "doclib3_'+_._id+'_public", "type":"Document", "pretty": "true" }\r\n'+m+d+'{ "query" : {"simple_query_string" : {"query" : "'+i+'"}}'+a+', "from" : "'+u+'", "size" : "'+s+'"}\r\n'),console.log("Separate indexes for users")):"4"===q?(_&&(c='{ "index" : "doclib4_'+_._id+'", "type":"Document_public", "pretty": "true" }\r\n'+m+d+'{ "query" : {"simple_query_string" : {"query" : "'+i+'"}}'+a+', "from" : "'+u+'", "size" : "'+s+'"}\r\n'),console.log("Separate types for private/public/share")):(_&&(c='{"index" : "doclib_public", "type":"Document", "routing" :  "'+_._id+'", "pretty": "true"}\r\n'+m+d+'{ "query" : {"simple_query_string" : {"query" : "'+i+'"}}'+a+', "from" : "'+u+'", "size" : "'+s+'"}\r\n'),console.log("Custom routing with 3 public/private/share indexes"))):"private"===o?(console.log("my Private only"),"2"===q?(_&&(c='{ "index" : "doclib2", "type":"Document_private", "routing" : "'+_._id+'", "pretty": "true" }\r\n'+m+d+'{ "query" : {"simple_query_string" : {"query" : "'+i+'"}}'+a+', "from" : "'+u+'", "size" : "'+s+'"}\r\n'),console.log("Custom routing with one index and 3 public/private/share types")):"3"===q?(_&&(c='{ "index" : "doclib3_'+_._id+'_private", "type":"Document", "pretty": "true" }\r\n'+m+d+'{ "query" : {"simple_query_string" : {"query" : "'+i+'"}}'+a+', "from" : "'+u+'", "size" : "'+s+'"}\r\n'),console.log("Separate indexes for users")):"4"===q?(_&&(c='{ "index" : "doclib4_'+_._id+'", "type":"Document_private", "pretty": "true" }\r\n'+m+d+'{ "query" : {"simple_query_string" : {"query" : "'+i+'"}}'+a+', "from" : "'+u+'", "size" : "'+s+'"}\r\n'),console.log("Separate types for private/public/share")):(_&&(c='{"index" : "doclib_private", "type":"Document", "routing" :  "'+_._id+'", "pretty": "true"}\r\n'+m+d+'{ "query" : {"simple_query_string" : {"query" : "'+i+'"}}'+a+', "from" : "'+u+'", "size" : "'+s+'"}\r\n'),console.log("Custom routing with 3 public/private/share indexes"))):(console.log("All Public and my Private"),"2"===q?(c='{ "index" : "doclib2", "type":"Document_public", "pretty": "true" }\r\n'+m+d+'{ "query" : {"simple_query_string" : {"query" : "'+i+'"}}'+a+', "from" : "'+u+'", "size" : "'+s+'"}\r\n',_&&(c=c+'{ "index" : "doclib2", "type":"Document_private", "routing" : "'+_._id+'", "pretty": "true" }\r\n'+m+d+'{ "query" : {"simple_query_string" : {"query" : "'+i+'"}}'+a+', "from" : "'+u+'", "size" : "'+s+'"}\r\n'),console.log("Custom routing with one index and 3 public/private/share types")):"3"===q?(c='{ "index" : "doclib3_*_public", "type":"Document", "pretty": "true" }\r\n'+m+d+'{ "query" : {"simple_query_string" : {"query" : "'+i+'"}}'+a+', "from" : "'+u+'", "size" : "'+s+'"}\r\n',_&&(c=c+'{ "index" : "doclib3_'+_._id+'_privacy", "type":"Document", "pretty": "true" }\r\n'+m+d+'{ "query" : {"simple_query_string" : {"query" : "'+i+'"}}'+a+', "from" : "'+u+'", "size" : "'+s+'"}\r\n'),console.log("Separate indexes for users")):"4"===q?(c='{ "index" : "doclib4_*", "type":"Document_public", "pretty": "true" }\r\n'+m+d+'{ "query" : {"simple_query_string" : {"query" : "'+i+'"}}'+a+', "from" : "'+u+'", "size" : "'+s+'"}\r\n',_&&(c=c+'{ "index" : "doclib4_'+_._id+'", "type": "Document_private", "pretty": "true" }\r\n'+m+d+'{ "query" : {"simple_query_string" : {"query" : "'+i+'"}}'+a+', "from" : "'+u+'", "size" : "'+s+'"}\r\n'),console.log("Separate types for private/public/share")):(c='{"index" : "doclib_public", "type":"Document", "pretty": "true"}\r\n'+m+d+'{ "query" : {"simple_query_string" : {"query" : "'+i+'"}}'+a+', "from" : "'+u+'", "size" : "'+s+'"}\r\n',_&&(c=c+'{"index" : "doclib_private", "type":"Document", "routing" :  "'+_._id+'", "pretty": "true" }\r\n'+m+d+'{ "query" : {"simple_query_string" : {"query" : "'+i+'"}}'+a+', "from" : "'+u+'", "size" : "'+s+'"}\r\n'),console.log("Custom routing with 3 public/private/share indexes")));var g={method:"POST",url:y,headers:{"Content-Type":"application/x-www-form-urlencoded"},data:c};console.log("=============SEARCH CONFIG============="),console.log(c),console.log(g),console.log("=============SEARCH CONFIG============="),e(g).then(function(e){"function"==typeof p&&p(e)},function(e){"function"==typeof l&&l(e)})},searchUser:function(r,i,o,n,u){var s=t.URL+"/doclib_main/User/"+t.SINGLE_API+"?q="+r+"&from="+i+"&size="+o,p={method:"GET",url:s};console.log("=============SEARCH CONFIG============="),console.log(p),console.log("=============SEARCH CONFIG============="),e(p).then(function(e){"function"==typeof n&&n(e)},function(e){"function"==typeof u&&u(e)})}}}angular.module("SDLMSys").factory("SearchSvc",["$http","$localStorage","SEARCH_HOST",SearchSvc]);
"use strict";function UserActSvc(t,c,r){var e=r.URL;return{interactDocument:function(c,r,s){t.post(e+"/userInteractDocument",c).success(r).error(s)}}}angular.module("SDLMSys").factory("UserActSvc",["$http","$localStorage","DEPLOYED_HOST",UserActSvc]);
"use strict";function UserSvc(r,e,t){var s=t.URL;return{getMyFriendList:function(e,t){r.get(s+"/myfriends").success(e).error(t)}}}angular.module("SDLMSys").factory("UserSvc",["$http","$localStorage","DEPLOYED_HOST",UserSvc]);
"use strict";function Utils(){function n(n){for(var n=btoa(unescape(encodeURIComponent(n))),t=n.split(""),o=[],r=0;r<t.length;r++)o.push(t[r].charCodeAt(0));return new Uint8Array(o)}function t(n){var t=String.fromCharCode.apply(null,n),o=decodeURIComponent(escape(atob(t)));return o}return{convertStringToBinary:function(t,o){var r=n(t);"function"==typeof o&&o(r)},convertBinaryToString:function(n,o){var r=t(n);"function"==typeof o&&o(r)}}}angular.module("SDLMSys").factory("Utils",[Utils]);